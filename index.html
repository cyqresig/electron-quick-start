<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
    <link rel="stylesheet" href="./style.css">
    <style>
      html, body {
        height: 100%;
      }
    </style>
  </head>
  <body>
    <!--<h1>Hello World!</h1>-->
    <!--&lt;!&ndash; All of the Node.js APIs are available in this renderer process. &ndash;&gt;-->
    <!--We are using Node.js <script>document.write(process.versions.node)</script>,-->
    <!--Chromium <script>document.write(process.versions.chrome)</script>,-->
    <!--and Electron <script>document.write(process.versions.electron)</script>.-->
    <div style="display: flex; flex-direction: row; height: 100%">
      <div style="width: 400px; height: 100%; box-sizing: border-box; padding: 30px; background: #ccc;">
        <webview id="browser" src="https://m.dianping.com" style="width: 100%; height: 100%"></webview>
      </div>
      <div style="flex: 1; height: 100%; background: yellow; display: flex; flex-direction: column;">
        <div id="editor" style="flex: 1;cursor: default;overflow: auto;"><div> scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br>scroll area <br><br><br><br></div></div>
      </div>
    </div>
    <script>
        const browserView = document.getElementById('browser')
        browserView.addEventListener('dom-ready', function() {
            const browser = browserView.getWebContents();

            try {
                // works with 1.2 too
                browser.debugger.attach('1.2');
            } catch (err) {
                console.log('Debugger attach failed: ', err);
            }

            const isDebuggerAttached = browser.debugger.isAttached();
            console.log('debugger attached? ', isDebuggerAttached);

            browser.debugger.on('detach', (event, reason) => {
                 console.log('Debugger detached due to: ', reason);
            });

            // This is where the magic happens!
            browser.debugger.sendCommand('Emulation.setTouchEmulationEnabled', {
                enabled: true,
                configuration: 'mobile',
            }, (...args) => {
                console.log(args);
            });

            console.log(`setTouchEmulationEnabled works,
            but when I move the mouse out of the range of the webview#browser,
            the mouse cursor does not return to "default" style.
            I just want the webview#browser to enable touch emulation, not all the browserWindow.`);
        });
    </script>
  </body>
</html>
